//
//  BattleAnimationSkillBoard.m
//  Miner
//
//  Created by jim kaden on 15/1/6.
//  Copyright (c) 2015å¹´ jim kaden. All rights reserved.
//

#import "BattleAnimationSkillBoard.h"
#import "SkillConfig.h"
#import "StringConfig.h"
#import "GameUtility.h"
@implementation BattleAnimationSkillBoard

+(BattleAnimationSkillBoard*)create:(id)owner skill:(int)skill
{
    NSArray *array = [[NSBundle mainBundle] loadNibNamed:@"BattleAnimationSkillBoard" owner:owner options:nil];
    BattleAnimationSkillBoard* view = (BattleAnimationSkillBoard*)[array objectAtIndex:0];
    [view setSkill:skill];
    return view;
}

-(void)setSkill:(int)skill
{
    SkillDef* sd = [[SkillConfig share] getSkillDefWithIdentifier:[NSNumber numberWithInt:skill]];
    if ( sd == nil )
        return;
    NSString* skillname = [[StringConfig share] getLocalLanguage:sd.skillName];
    self.imageIcon.image = [GameUtility imageNamed:sd.skillIcon];
    NSShadow* ss = [[NSShadow alloc] init];
    ss.shadowOffset = CGSizeMake(1,3);
    ss.shadowBlurRadius = 2;
    ss.shadowColor = [UIColor blackColor];
    NSAttributedString* string = [[NSAttributedString alloc]initWithString:skillname
                                                                attributes:@{
                                                                             NSFontAttributeName : [GameUtility getNormalFont:sd.animaFontSize],
                                                                             NSForegroundColorAttributeName : sd.animaFontColor,
                                                                             NSShadowAttributeName : ss,
                                                                             NSVerticalGlyphFormAttributeName : @0,
                                                                             NSStrokeColorAttributeName : [UIColor blackColor],
                                                                             NSStrokeWidthAttributeName : @-3,
                                                                             }];
    self.labelName.attributedText = string;

}


@end
