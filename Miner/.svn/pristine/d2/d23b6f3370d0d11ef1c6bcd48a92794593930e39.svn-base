//
//  BattleAnimationSkillBoard.m
//  Miner
//
//  Created by jim kaden on 15/1/6.
//  Copyright (c) 2015å¹´ jim kaden. All rights reserved.
//

#import "BattleAnimationSkillBoard.h"
#import "SkillConfig.h"
#import "StringConfig.h"
#import "GameUtility.h"
@implementation BattleAnimationSkillBoard

+(BattleAnimationSkillBoard*)create:(id)owner skill:(int)skill withLv:(int)lv
{
    NSArray *array = [[NSBundle mainBundle] loadNibNamed:@"BattleAnimationSkillBoard" owner:owner options:nil];
    BattleAnimationSkillBoard* view = (BattleAnimationSkillBoard*)[array objectAtIndex:0];
    [view setSkill:skill withLv:lv];
    return view;
}

-(void)setSkill:(int)skill withLv:(int)lv
{
    SkillBase* sb = [[SkillConfig share] getSkillBaseWithTId:[NSNumber numberWithInt:skill] withLevel:[NSNumber numberWithInt:lv]];
    if ( sb == nil )
        return;
    NSString* skillname = [[StringConfig share] getLocalLanguage:sb.skillName];
    self.imageIcon.image = [GameUtility imageNamed:sb.skillIcon];
    NSShadow* ss = [[NSShadow alloc] init];
    ss.shadowOffset = CGSizeMake(1,3);
    ss.shadowBlurRadius = 2;
    ss.shadowColor = [UIColor blackColor];
    //skillname = @"PARRY";
    NSAttributedString* string = [[NSAttributedString alloc]initWithString:skillname
                                                                attributes:@{
                                                                             NSFontAttributeName : [GameUtility getBoldFont:sb.animaFontSize ] ,
                                                                             NSForegroundColorAttributeName : sb.animaFontColor,
                                                                             //NSShadowAttributeName : ss,
                                                                             NSVerticalGlyphFormAttributeName : @0,
                                                                             NSStrokeColorAttributeName : [UIColor blackColor],
                                                                             NSStrokeWidthAttributeName : @-4,
                                                                             }];
    self.labelName.attributedText = string;

}


@end
